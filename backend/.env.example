# ==============================================================================
# REQUIRED CONFIGURATION
# ==============================================================================

# Database Configuration (REQUIRED)
# For local development with Docker:
DATABASE_URL=postgresql+asyncpg://sigmasight:sigmasight_dev@localhost:5432/sigmasight_db

# JWT Configuration (REQUIRED)
# Generate with: openssl rand -hex 32
SECRET_KEY=your_secret_key_here_generate_with_openssl_rand_hex_32

# Market Data Providers (REQUIRED)
# ------------------------------------------------------------------------------
# ⚠️ IMPORTANT: Market Data Provider Priority (Updated October 2025)
# The codebase uses the following provider priority:
# 1. YFINANCE - PRIMARY data source (free, reliable)
# 2. FMP - SECONDARY/BACKUP data source
# 3. POLYGON - OPTIONS DATA ONLY
# 4. FRED - Economic data (treasury rates, macro indicators)

# YFINANCE - PRIMARY Data Source (October 2025+)
# Free, no API key required
# Used for: Stock prices, historical data, company profiles
# Automatically available via yfinance library

# FMP (Financial Modeling Prep) - SECONDARY/BACKUP Data Source
# Get free API key at: https://site.financialmodelingprep.com/developer/docs
# Used as fallback when YFinance data unavailable
# Free Tier: 250 requests/day
FMP_API_KEY=your_actual_fmp_key_here

# POLYGON.IO - OPTIONS DATA ONLY
# Get free API key at: https://polygon.io/
# Used exclusively for: Options data, Greeks calculations
# Free Tier: 5 requests/minute
POLYGON_API_KEY=your_polygon_api_key_here

# ==============================================================================
# OPTIONAL CONFIGURATION
# ==============================================================================


# FRED (Federal Reserve Economic Data) - Interest Rates (OPTIONAL)
# Used for risk-free rate in options calculations
# Get free API key at: https://fred.stlouisfed.org/docs/api/api_key.html
FRED_API_KEY=your_actual_fred_key_here

# Anthropic Agent Configuration (REQUIRED for AI Chat functionality)
# ------------------------------------------------------------------------------
# ⚠️ IMPORTANT: SigmaSight uses Anthropic Claude (NOT OpenAI)
# The AI chat system uses Claude Sonnet 4 via Anthropic's API
# Get API key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...your_anthropic_api_key_here

# Agent Model Configuration
# Uses claude-sonnet-4-20250514 for AI chat with tool execution
MODEL_DEFAULT=claude-sonnet-4-20250514  # Primary model for chat
AGENT_CACHE_TTL=600                      # Cache TTL in seconds
SSE_HEARTBEAT_INTERVAL_MS=15000          # SSE heartbeat interval for streaming

# Application Settings (OPTIONAL - These are the defaults)
# ------------------------------------------------------------------------------
DEBUG=false
ENVIRONMENT=development
LOG_LEVEL=INFO

# ==============================================================================
# NOTES FOR SETUP
# ==============================================================================
# 1. For minimal setup, you need:
#    - DATABASE_URL (use the default for Docker)
#    - SECRET_KEY (generate a new one)
#    - No API keys required! YFinance is free and automatic
#
# 2. For full functionality (recommended):
#    - YFINANCE: Free, no key needed (PRIMARY - automatically available)
#    - FMP_API_KEY: Backup data source (250 requests/day free tier)
#    - POLYGON_API_KEY: Options data only (5 requests/minute free tier)
#    - FRED_API_KEY: Interest rates (unlimited free tier)
#    - ANTHROPIC_API_KEY: AI chat with Claude Sonnet 4 (required for chat features)
#
# 3. API Key Resources:
#    - YFinance: Free, no registration (via yfinance library)
#    - FMP: https://site.financialmodelingprep.com/developer/docs (250 requests/day)
#    - Polygon: https://polygon.io/ (5 requests/minute)
#    - FRED: https://fred.stlouisfed.org/docs/api/api_key.html (unlimited)
#    - Anthropic: https://console.anthropic.com/ (pay-per-use)
#
# 4. Current Status (2025-11-02):
#    - 59 production endpoints fully functional
#    - Real market data from YFinance (primary) and FMP (backup)
#    - AI chat with Claude Sonnet 4 and tool execution
#    - Batch processing with 8 calculation engines
#    - Target price tracking and position tagging
#    - Risk metrics (sector exposure, concentration, volatility)
# ==============================================================================
